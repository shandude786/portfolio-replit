.timeline {
  position: relative;
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px 0;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, var(--timeline-line), hsl(299, 71%, 52%), hsl(197, 92%, 61%));
    border-radius: 2px;
    z-index: 1;
    box-shadow: 0 0 10px hsla(262, 83%, 58%, 0.3);
  }

  // Add connecting line segments for better visual connection
  &::after {
    content: '';
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    height: calc(100% - 40px);
    background: linear-gradient(180deg, 
      transparent 0%, 
      var(--timeline-line) 5%, 
      var(--timeline-line) 95%, 
      transparent 100%
    );
    border-radius: 3px;
    z-index: 0;
  }

  .timeline-item {
    position: relative;
    width: 50%;
    padding: 20px 40px;
    margin-bottom: 40px;

    &:nth-child(odd) {
      left: 0;
      text-align: right;

      .timeline-content {
        margin-right: 20px;
      }

      &::before {
        right: -12px;
      }

      &::after {
        right: -8px;
        border-left: 8px solid var(--card);
        border-right: none;
      }
    }

    &:nth-child(even) {
      left: 50%;
      text-align: left;

      .timeline-content {
        margin-left: 20px;
      }

      &::before {
        left: -12px;
      }

      &::after {
        left: -8px;
        border-right: 8px solid var(--card);
        border-left: none;
      }
    }

    &::before {
      content: '';
      position: absolute;
      top: 28px;
      width: 24px;
      height: 24px;
      background: var(--timeline-dot);
      border: 4px solid var(--background);
      border-radius: 50%;
      z-index: 3;
      box-shadow: 0 0 0 4px hsla(262, 83%, 58%, 0.2), 0 4px 12px hsla(262, 83%, 58%, 0.3);
      transition: all 0.3s ease;
      
      // Add pulse animation
      animation: pulse-dot 2s infinite;
    }

    // Pulse animation for timeline dots
    @keyframes pulse-dot {
      0%, 100% {
        box-shadow: 0 0 0 4px hsla(262, 83%, 58%, 0.2), 0 4px 12px hsla(262, 83%, 58%, 0.3);
      }
      50% {
        box-shadow: 0 0 0 8px hsla(262, 83%, 58%, 0.1), 0 4px 12px hsla(262, 83%, 58%, 0.4);
      }
    }

    &::after {
      content: '';
      position: absolute;
      top: 36px;
      width: 0;
      height: 0;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      z-index: 2;
    }

    &:hover::before {
      background: hsl(299, 71%, 52%);
      transform: scale(1.3);
      box-shadow: 0 0 0 8px hsla(262, 83%, 58%, 0.4), 0 6px 20px hsla(262, 83%, 58%, 0.5);
      animation: none;
    }

    // Add connecting line from dot to content
    &::after {
      content: '';
      position: absolute;
      top: 40px;
      width: 0;
      height: 0;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      z-index: 2;
      transition: all 0.3s ease;
    }

    .timeline-content {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 6px -1px hsla(0, 0%, 0%, 0.1);
      transition: all 0.3s ease;

      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 25px -3px hsla(0, 0%, 0%, 0.1);
      }
    }
  }

  // Mobile responsive
  @media (max-width: 768px) {
    &::before {
      left: 24px;
      transform: none;
      width: 4px;
      box-shadow: 0 0 8px hsla(262, 83%, 58%, 0.3);
    }

    &::after {
      left: 24px;
      transform: none;
      width: 6px;
    }

    .timeline-item {
      width: 100%;
      left: 0;
      text-align: left;
      padding-left: 70px;
      padding-right: 20px;

      .timeline-content {
        margin-left: 0;
        margin-right: 0;
      }

      &::before {
        left: 16px;
        width: 20px;
        height: 20px;
        animation: pulse-dot 2s infinite;
      }

      &::after {
        left: 36px;
        border-right: 8px solid var(--card);
        border-left: none;
        border-top: 8px solid transparent;
        border-bottom: 8px solid transparent;
      }

      &:hover::before {
        transform: scale(1.2);
        animation: none;
      }

      &:nth-child(odd) {
        &::before {
          left: 16px;
        }

        &::after {
          left: 36px;
          border-right: 8px solid var(--card);
          border-left: none;
        }
      }
    }
  }
}

.dark .timeline {
  .timeline-item {
    &::before {
      border-color: var(--background);
      box-shadow: 0 0 0 4px hsla(262, 83%, 58%, 0.1);
    }

    &:hover::before {
      box-shadow: 0 0 0 6px hsla(262, 83%, 58%, 0.2);
    }

    .timeline-content:hover {
      box-shadow: 0 10px 25px -3px hsla(0, 0%, 0%, 0.3);
    }
  }
}
